# Unit Testing

Pembahasan bab ini diambil dari bab 1 dari buku [Software Testing and Quality Assurance - Theory and Practice](https://drive.google.com/file/d/1UBdGl16MTPAFDFITc5Os8M84x9qIf3mI/view?usp=sharing)

> Pengetahuan tidaklah berarti jika Anda menerapkannya dalam praktek - Anton Chekhov

## 3.1 KONSEP _UNIT TESTING_
Dalam bab ini, kami mempertimbangkan pengujian tingkat pertama, yaitu _unit testing_. _Unit testing_ mengacu pada _unit testing_ program secara terpisah. Namun, tidak ada konsensus tentang definisi unit. Beberapa contoh unit yang umum dipahami adalah fungsi, prosedur, atau metode. Bahkan kelas dalam bahasa pemrograman berorientasi objek dapat dianggap sebagai unit program. **Secara sintaksis, unit program adalah bagian kode, seperti fungsi atau metode kelas, yang dipanggil dari luar unit dan dapat memanggil unit program lainnya.** Selain itu, unit program diasumsikan mengimplementasikan fungsi yang terdefinisi dengan baik yang menyediakan tingkat abstraksi tertentu untuk implementasi fungsi tingkat yang lebih tinggi. Fungsi yang dilakukan oleh unit program mungkin tidak memiliki hubungan langsung dengan fungsi tingkat sistem. Dengan demikian, unit program dapat dilihat sebagai bagian kode yang mengimplementasikan fungsi tingkat "rendah". Dalam bab ini, penggunaan  istilah _unit_ dan _modul_ secara bergantian.

Sekarang, mengingat bahwa unit program mengimplementasikan suatu fungsi, wajar saja untuk menguji unit tersebut sebelum diintegrasikan dengan unit lain. Dengan demikian, suatu unit program diuji secara terpisah, yaitu dengan cara yang berdiri sendiri. Ada dua alasan untuk menguji suatu unit secara terpisah. Pertama, kesalahan yang ditemukan selama pengujian dapat dikaitkan dengan unit tertentu sehingga dapat diperbaiki dengan mudah. ​​Selain itu, _unit testing_ menghilangkan ketergantungan pada unit program lainnya. Kedua, selama _unit testing_, sebaiknya verifikasi dilakukan untuk memastikan bahwa setiap eksekusi yang berbeda dari suatu unit program menghasilkan hasil yang diharapkan. Dalam hal detail kode, eksekusi yang berbeda mengacu pada jalur yang berbeda dalam unit tersebut. Idealnya, semua kemungkinan—atau sebanyak mungkin—eksekusi yang berbeda harus dipertimbangkan selama _unit testing_. Hal ini memerlukan pemilihan data input yang cermat untuk setiap eksekusi yang berbeda. Seorang programmer memiliki akses langsung ke vektor input unit dengan mengeksekusi unit program secara terpisah. Akses langsung ini memudahkan eksekusi sebanyak mungkin jalur yang berbeda. Jika beberapa unit disatukan untuk pengujian, maka seorang programmer perlu membuat input pengujian dengan hubungan tidak langsung dengan vektor input dari beberapa unit yang diuji. Hubungan tidak langsung tersebut mempersulit pengendalian eksekusi jalur yang berbeda dalam unit yang dipilih.

_Unit testing_ memiliki cakupan terbatas. Seorang programmer perlu memverifikasi apakah kode berfungsi dengan benar atau tidak dengan melakukan _unit-level testing_. Secara intuitif, seorang programmer perlu menguji unit sebagai berikut:
* Jalankan setiap baris kode. Hal ini diinginkan karena programmer perlu mengetahui apa yang terjadi saat baris kode dieksekusi. Jika tidak ada pengamatan dasar seperti itu, kejutan di tahap selanjutnya bisa jadi mahal.
* Jalankan setiap predikat dalam unit untuk mengevaluasinya menjadi benar dan salah secara terpisah.
* Amati bahwa unit menjalankan fungsi yang dimaksudkan dan pastikan tidak mengandung kesalahan yang diketahui.

Terlepas dari pengujian di atas, tidak ada jaminan bahwa unit yang diuji dengan memuaskan berfungsi dengan benar dari perspektif sistem secara keseluruhan. Tidak semua hal yang berkaitan dengan unit dapat diuji secara terpisah karena keterbatasan pengujian secara terpisah. Ini berarti bahwa beberapa kesalahan dalam unit program hanya dapat ditemukan kemudian, saat unit diintegrasikan dengan unit lain dalam fase pengujian integrasi dan pengujian sistem. Meskipun tidak mungkin menemukan semua kesalahan dalam unit program secara terpisah, tetap penting untuk memastikan bahwa unit tersebut berfungsi dengan memuaskan sebelum digunakan oleh unit program lain. Tidak ada gunanya mengintegrasikan unit yang salah dengan unit lain karena alasan berikut: (i) banyak pengujian berikutnya akan membuang-buang sumber daya dan (ii) menemukan akar penyebab kegagalan dalam sistem yang terintegrasi lebih banyak menghabiskan sumber daya.

**_Unit testing_ dilakukan oleh programmer yang menulis unit program karena programmer sangat mengenal detail internal unit tersebut.** Tujuan programmer adalah untuk merasa yakin bahwa unit tersebut berfungsi seperti yang diharapkan. Karena seorang programmer diharapkan untuk membangun unit tanpa kesalahan di dalamnya, _unit testing_ dilakukan olehnya untuk memuaskannya di awal dan untuk memuaskan programmer lain saat unit tersebut diintegrasikan dengan unit lain. Ini berarti bahwa semua programmer bertanggung jawab atas kualitas pekerjaan mereka sendiri, yang dapat mencakup kode baru dan modifikasi pada kode yang sudah ada. Idenya di sini adalah untuk mendorong konsep kualitas ke tingkat terendah organisasi dan memberdayakan setiap programmer untuk bertanggung jawab atas kualitasnya sendiri. Oleh karena itu, demi kepentingan terbaik programmer untuk mengambil tindakan pencegahan guna meminimalkan jumlah _defect_ dalam kode. _Defect_ yang ditemukan selama _unit testing_ bersifat internal bagi kelompok pengembangan perangkat lunak dan tidak dilaporkan ke hierarki personel untuk dihitung dalam metrik pengukuran kualitas. Kode sumber suatu unit tidak digunakan untuk antarmuka oleh anggota kelompok lain hingga programmer menyelesaikan _unit testing_ dan memeriksa unit tersebut ke sistem kontrol versi.

_Unit testing_ dilakukan dalam dua fase yang saling melengkapi:
* _Unit testing_ statis
* _Unit testing_ dinamis

Dalam _unit testing_ statis, seorang programmer tidak mengeksekusi unit; sebaliknya, kode diperiksa berdasarkan semua kemungkinan perilaku yang mungkin muncul selama run time. _Unit testing_ statis juga dikenal sebagai _unit testing_ berbasis non-eksekusi, sedangkan _unit testing_ dinamis berbasis eksekusi. Dalam _unit testing_ statis, kode setiap unit divalidasi terhadap persyaratan unit dengan meninjau kode. Selama proses peninjauan, masalah potensial diidentifikasi dan diselesaikan. Misalnya, dalam bahasa pemrograman C, dua instruksi penghentian program adalah `abort()` dan `exit()`. Meskipun keduanya terkait erat, keduanya memiliki efek yang berbeda seperti yang dijelaskan di bawah ini:
* `abort()`: Ini berarti penghentian program yang tidak normal. Secara default, panggilan ke `abort()` menghasilkan diagnostik _run time_ dan penghancuran diri program. Penghancuran program mungkin atau mungkin tidak membersihkan dan menutup file yang dibuka atau menghapus file sementara, tergantung pada implementasinya.
* `exit()`: Ini berarti penghentian program yang baik. Artinya, panggilan `exit()` menutup file yang dibuka dan mengembalikan kode status ke lingkungan eksekusi.

Apakah akan menggunakan `abort()` atau `exit()` bergantung pada konteks yang dapat dengan mudah dideteksi dan diselesaikan selama _unit testing_ statis. Semakin banyak masalah yang terdeteksi lebih awal menyebabkan lebih sedikit kesalahan yang diidentifikasi dalam fase pengujian dinamis dan menghasilkan lebih sedikit _defect_ pada produk yang dikirim. Selain itu, melakukan pengujian statis lebih murah daripada melakukan pengujian dinamis. Tinjauan kode merupakan salah satu komponen dari proses minimalisasi _defect_ dan dapat membantu mendeteksi masalah yang umum terjadi pada pengembangan perangkat lunak. Setelah satu putaran tinjauan kode, _unit testing_ dinamis dilakukan. Dalam _unit testing_ dinamis, unit program benar-benar dieksekusi dan hasilnya diamati. _Unit testing_ dinamis berarti menguji kode dengan benar-benar menjalankannya. Perlu dicatat bahwa _unit testing_ statis bukanlah alternatif untuk _unit testing_ dinamis. Seorang programmer melakukan kedua jenis pengujian tersebut. Dalam praktiknya, _unit testing_ dinamis parsial dilakukan bersamaan dengan _unit testing_ statis. Jika seluruh _unit testing_ dinamis telah dilakukan dan _unit testing_ statis mengidentifikasi masalah yang signifikan, _unit testing_ dinamis harus diulang. Sebagai akibat dari pengulangan ini, jadwal pengembangan dapat terpengaruh. Untuk meminimalkan kemungkinan kejadian seperti itu, _unit testing_ statis perlu dilakukan sebelum _unit testing_ dinamis akhir.